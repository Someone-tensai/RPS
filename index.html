<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <script>
        function getComputerChoice()
        {
            // Get a random number from one to three
            choice = Math.floor(Math.random() * 3) + 1
            // console.log(choice);
            // Choose the string based on the number
            if(choice == 1)
            {
                return "Rock"
            }

            if(choice == 2)
            {
                return "Paper"
            }

            if(choice == 3)
            {
                return "Scissors"
            }
        }

        let humanScore = 0;
        let computerScore = 0;
        button_div = document.createElement("div")
        body = document.querySelector("body");
        rock = document.createElement("button");
        paper = document.createElement("button");
        scissors = document.createElement("button");
        div = document.createElement("div");
        div.style.whiteSpace = "pre";
        rock.textContent = "Rock";
        paper.textContent = "Paper";
        scissors.textContent = "Scissors";
        
       
        rock.addEventListener("click", playRound);
        paper.addEventListener("click", playRound);
        scissors.addEventListener("click", playRound);


        button_div.appendChild(rock);
        button_div.appendChild(paper);
        button_div.appendChild(scissors);
        body.appendChild(button_div);
        body.appendChild(div);


        
        function playRound(e)
        {   

            computerChoice = getComputerChoice();
            // Make the input Case insensitive
            // Changing everything to uppercase
            humanChoice = e.target.textContent;
            humanChoice =  humanChoice;
            computerChoice = computerChoice;
       
            div.textContent = "";

            // Check condition for draw 
            if(humanChoice === computerChoice)
            {
                div.textContent += `\r\nIt's a draw. ${humanChoice} vs ${computerChoice} `;
                
            }
            // Check various conditions of winning for user
            else if((humanChoice === "Rock" && computerChoice === "Scissors") || (humanChoice === "Scissors" && computerChoice === "Paper") || (humanChoice === "Paper" && computerChoice == "Rock"))
            {
                humanScore++;
                div.textContent += `\r\nYou win this round! ${humanChoice} beats ${computerChoice}.`;
                
            }
            // Else User Loses
            else 
            {
                computerScore++;
                div.textContent += `\r\nYou lose this round! ${computerChoice} beats ${humanChoice}.`;
            }
        
            if(humanScore >= 5 || computerScore >= 5)
            {
                if(humanScore > computerScore)
                {
                    div.textContent = `\r\nYou Win! with a score of ${humanScore} against ${computerScore}.`;
                }   
                else
                {
                    div.textContent = `\r\nComputer Wins! with a score of ${humanScore} against ${computerScore}.`;
                }
               
                return;
            }
            div.textContent += ` \r\n Human Score: ${humanScore} , Computer Score: ${computerScore}`;
         
        }
        
        
    </script>
</body>
</html>